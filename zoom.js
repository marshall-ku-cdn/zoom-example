window.Zoom=function(t,e){const r=e&&e.originalizer?e.originalizer:t=>t,n={screenWidth:0,screenHeight:0,scrollBar:0},s=e&&e.background?e.background:null,o=()=>{const{documentElement:t}=document;n.screenWidth=window.innerWidth||t.clientWidth,n.screenHeight=window.innerHeight||t.clientHeight,n.scrollBar=n.screenWidth-t.offsetWidth},i=t=>{(t=>{const e=t.currentSrc||t.src,{srcset:o}=t,{screenWidth:i,screenHeight:l,scrollBar:a}=n,d=t.getBoundingClientRect(),{width:h,height:g,left:m,top:u}=d,f=(i-h)/2,y=(l-g)/2,p=(i-a)/2-m-h/2,w=(l-g)/2-u,b=document.createElement("div"),v=document.createElement("div"),$=document.createElement("img");let E=t.naturalWidth;if(v.append(b),v.style.top=`${u+window.scrollY}px`,v.style.left=`${m}px`,v.style.width=`${h}px`,v.style.height=`${g}px`,document.body.append(v),b.classList.add("zoom__bg"),b.style.width=`${i}px`,b.style.height=`${l+1}px`,b.style.top=`${-y-.5}px`,b.style.left=`${-f}px`,s)if("auto"===s){const e=c(t);b.style.background=e?`rgb(${e.r}, ${e.g}, ${e.b})`:"rgb(0, 0, 0)"}else b.style.background=s;v.classList.add("zoom"),v.append($);const x=/ ([0-9]+)w/gm;if(o){const t=o.match(x);t&&t.forEach(t=>{const e=+t.trim().replace("w","");e>E&&(E=e)})}E>=i&&(E=i);const L=E*(g/h);L>=l&&(E=E*l/L),$.classList.add("zoom__img"),$.src=e,$.srcset=o,$.width=h,$.height=g,setTimeout(()=>{const n=r(e);t.style.opacity="0",v.style.transform=`translate3d(${p}px, ${w}px, 0)`,b.classList.add("zoom__bg--reveal"),E!==h&&($.style.transform=`scale(${E/h})`),g>l&&($.style.transform=`scale(${l/g})`),$.src=n,$.srcset=""},30);const W=()=>{v.classList.add("zoom--removing"),b.removeAttribute("style"),v.style.transform="",$.removeAttribute("style"),setTimeout(()=>{v.remove(),t.style.opacity=""},300),window.removeEventListener("scroll",W)};v.addEventListener("click",W,{once:!0}),window.addEventListener("scroll",W,{once:!0})})(t.target)},c=t=>{const e={r:0,g:0,b:0},r=document.createElement("canvas"),n=r.getContext("2d");if(!n)return null;const s=r.width=t.naturalWidth||t.offsetWidth||t.width,o=r.height=t.naturalHeight||t.offsetHeight||t.height;let i,c,l=-4,a=0;n.drawImage(t,0,0);try{i=n.getImageData(0,0,s,o)}catch(t){return null}for(c=i.data.length;(l+=20)<c;)++a,e.r+=i.data[l],e.g+=i.data[l+1],e.b+=i.data[l+2];return e.r=Math.floor(e.r/a),e.g=Math.floor(e.g/a),e.b=Math.floor(e.b/a),e};o(),window.addEventListener("resize",o,{passive:!0}),document.querySelectorAll(t).forEach(t=>{if("IMG"===t.tagName)t.addEventListener("click",i);else{const e=t.querySelector("img");e&&e.addEventListener("click",i)}})};!function(){const e=document.createElement("style"),t=document.head||document.getElementsByTagName("head")[0];e.appendChild(document.createTextNode(".zoom{position:absolute;top:0;left:0;width:100%;height:100%;transition:transform .3s ease-in-out;z-index:90000;cursor:zoom-out}.zoom>.zoom__img{position:relative;z-index:2;transition:transform .3s ease-in-out;cursor:zoom-out}.zoom.zoom--removing>img{z-index:1}.zoom__bg{position:absolute;background:#121212;opacity:0;transition:opacity .3s ease-in-out}.zoom__bg.zoom__bg--reveal{opacity:.95}")),t.appendChild(e)}();
