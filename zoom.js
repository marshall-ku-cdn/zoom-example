window.Zoom=function(e,t){const n=t&&t.originalizer?t.originalizer:e=>e,o={screenWidth:0,screenHeight:0,scrollBar:0},r=t&&t.background?t.background:null,c=()=>{const{documentElement:e}=document;o.screenWidth=window.innerWidth||e.clientWidth,o.screenHeight=window.innerHeight||e.clientHeight,o.scrollBar=o.screenWidth-e.offsetWidth},i=e=>{(e=>{const t=e.currentSrc||e.src,{srcset:c}=e,{screenWidth:i,screenHeight:a,scrollBar:d}=o,l=e.getBoundingClientRect(),{width:m,height:g,left:h,top:u}=l,f=(i-d)/2-h-m/2,v=(a-g)/2-u,w=document.createElement("div"),p=document.createElement("img");let y=e.naturalWidth;if(p.style.top=`${u+window.scrollY}px`,p.style.left=`${h}px`,p.style.width=`${m}px`,p.style.height=`${g}px`,document.body.append(w),document.body.append(p),w.classList.add("zoom-bg"),r)if("auto"===r){const t=s(e);w.style.background=t?`rgb(${t.r}, ${t.g}, ${t.b})`:"rgb(0, 0, 0)"}else w.style.background=r;const E=/ ([0-9]+)w/gm;if(c){const e=c.match(E);e&&e.forEach(e=>{const t=+e.trim().replace("w","");t>y&&(y=t)})}y>=i&&(y=i);const b=y*(g/m);b>=a&&(y=y*a/b),p.classList.add("zoom-img"),p.src=t,p.srcset=c,p.width=m,p.height=g,setTimeout(()=>{e.style.opacity="0";const t=g>a?a/g:y!==m?y/m:1;p.style.transform=`matrix(${t}, 0, 0, ${t}, ${f}, ${v})`,w.classList.add("zoom-bg--reveal")},30),setTimeout(()=>{p.src=n(t),p.srcset=""},300);const L=()=>{p.classList.add("zoom--removing"),w.classList.remove("zoom-bg--reveal"),p.style.transform="",setTimeout(()=>{w.remove(),p.remove(),e.style.opacity=""},300),w.removeEventListener("click",L),p.removeEventListener("click",L),window.removeEventListener("scroll",L)};w.addEventListener("click",L,{once:!0}),p.addEventListener("click",L,{once:!0}),window.addEventListener("scroll",L,{once:!0})})(e.target)},s=e=>{const t={r:0,g:0,b:0},n=document.createElement("canvas"),o=n.getContext("2d");if(!o)return null;const r=n.width=e.naturalWidth||e.offsetWidth||e.width,c=n.height=e.naturalHeight||e.offsetHeight||e.height;let i,s,a=-4,d=0;o.drawImage(e,0,0);try{i=o.getImageData(0,0,r,c)}catch(e){return null}for(s=i.data.length;(a+=20)<s;)++d,t.r+=i.data[a],t.g+=i.data[a+1],t.b+=i.data[a+2];return t.r=Math.floor(t.r/d),t.g=Math.floor(t.g/d),t.b=Math.floor(t.b/d),t};c(),window.addEventListener("resize",c,{passive:!0}),document.querySelectorAll(e).forEach(e=>{if("IMG"===e.tagName)e.addEventListener("click",i);else{const t=e.querySelector("img");t&&t.addEventListener("click",i)}});const a=document.createElement("style"),d=document.head||document.getElementsByTagName("head")[0];a.appendChild(document.createTextNode(`${e}{cursor:zoom-in}`)),d.appendChild(a)};!function(){const e=document.createElement("style"),t=document.head||document.getElementsByTagName("head")[0];e.appendChild(document.createTextNode(".zoom-bg,.zoom-img{z-index:90000;cursor:zoom-out}.zoom-img{position:absolute;display:block;transition:transform .3s ease-in-out}.zoom-img.zoom--removing>img{z-index:1}.zoom-bg{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#121212;opacity:0;transition:opacity .3s ease-in-out}.zoom-bg.zoom-bg--reveal{opacity:.95}")),t.appendChild(e)}();
